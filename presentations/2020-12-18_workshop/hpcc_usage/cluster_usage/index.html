<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=../../../../favicons/favicon.ico><link rel=apple-touch-icon href=../../../../favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=../../../../favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=../../../../favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=../../../../favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=../../../../favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=../../../../favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=../../../../favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=../../../../favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=../../../../favicons/android-192x192.png sizes=192x192><title>Cluster Usage | HPCC</title><meta property="og:title" content="Cluster Usage"><meta property="og:description" content="Summary   Filesystem
 Paths Quotas Usage    Software
 Module System Installs Management    Job Scheduling
 Node Partition Limits Jobs    Filesystem: Paths RoadMap
Filesystem: Paths   Symlink (dotted lines) - A shortcut to another directory or file
  Mount (Local/Shared) - An entry point to a disk or storage device (ie. 'C:/' or Google Drive)
  Filesystem: Paths Case sensitive"><meta property="og:type" content="article"><meta property="og:url" content="https://dev.hpcc.ucr.edu/presentations/2020-12-18_workshop/hpcc_usage/cluster_usage/"><meta property="article:section" content="Presentations"><meta property="article:modified_time" content="2021-07-01T16:38:11-07:00"><meta property="og:site_name" content="HPCC"><meta itemprop=name content="Cluster Usage"><meta itemprop=description content="Summary   Filesystem
 Paths Quotas Usage    Software
 Module System Installs Management    Job Scheduling
 Node Partition Limits Jobs    Filesystem: Paths RoadMap
Filesystem: Paths   Symlink (dotted lines) - A shortcut to another directory or file
  Mount (Local/Shared) - An entry point to a disk or storage device (ie. 'C:/' or Google Drive)
  Filesystem: Paths Case sensitive"><meta itemprop=dateModified content="2021-07-01T16:38:11-07:00"><meta itemprop=wordCount content="900"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Cluster Usage"><meta name=twitter:description content="Summary   Filesystem
 Paths Quotas Usage    Software
 Module System Installs Management    Job Scheduling
 Node Partition Limits Jobs    Filesystem: Paths RoadMap
Filesystem: Paths   Symlink (dotted lines) - A shortcut to another directory or file
  Mount (Local/Shared) - An entry point to a disk or storage device (ie. 'C:/' or Google Drive)
  Filesystem: Paths Case sensitive"><link rel=preload href=../../../../scss/main.min.e8d637f30893e85918b2aeae9cd9eab6c68fcd7998810e804d7c9ab542fbfd45.css as=style><link href=../../../../scss/main.min.e8d637f30893e85918b2aeae9cd9eab6c68fcd7998810e804d7c9ab542fbfd45.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><link rel=stylesheet href=../../../../css/prism.css><script src=../../../../js/driver0.9.8.min.js></script><link rel=stylesheet href=../../../../css/driver0.9.8.min.css><link rel=stylesheet href=../../../../css/site.css><script src=../../../../js/site.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=../../../../><span class=navbar-logo></span><span class=font-weight-bold>HPCC</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><i class="fas fa-info-circle btn-primary"></i><a class="nav-link dropdown-toggle" href=../../../../about id=navbarDropdown role=button>About</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../about/facility/ style=padding-left:1rem;font-weight:calc(3/3*500)>Facility</a>
<a class=dropdown-item href=../../../../about/hardware/ style=padding-left:1rem;font-weight:calc(3/3*500)>Hardware</a>
<a class=dropdown-item href=../../../../about/software/ style=padding-left:1rem;font-weight:calc(3/3*500)>Software</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><i class="fas fa-users btn-primary"></i><a class="nav-link dropdown-toggle" href=../../../../community id=navbarDropdown role=button>Community</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../community/events_small/ style=padding-left:1rem;font-weight:calc(3/3*500)>Small Events</a>
<a class=dropdown-item href=../../../../community/events_related/ style=padding-left:1rem;font-weight:calc(3/3*500)>Related Events</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><i class="fas fa-share-alt btn-primary"></i><a class="nav-link dropdown-toggle" href=../../../../related/ id=navbarDropdown role=button>Related</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=https://research.ucr.edu style=padding-left:1rem;font-weight:calc(3/3*500)>RED-UCR</a>
<a class=dropdown-item href=http://datascience.ucr.edu style=padding-left:1rem;font-weight:calc(3/3*500)>Data Science Center</a>
<a class=dropdown-item href=http://bigdata.ucr.edu style=padding-left:1rem;font-weight:calc(3/3*500)>FIELDS Program</a>
<a class=dropdown-item href=http://genomics.ucr.edu style=padding-left:1rem;font-weight:calc(3/3*500)>Institute of Integrative Genome Biology</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0" style=position:relative><i class="fas fa-book btn-primary"></i><a class="nav-link dropdown-toggle" href=../../../../manuals id=navbarDropdown role=button>Manuals</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=../../../../manuals/linux_basics/ style=padding-left:1rem;font-weight:calc(3/3*500)>Linux Basics</a>
<a class=dropdown-item href=../../../../manuals/hpc_cluster/ style=padding-left:1rem;font-weight:calc(3/3*500)>HPC Cluster</a>
<a class=dropdown-item href=../../../../manuals/hpcc_cloud/ style=padding-left:1rem;font-weight:calc(3/3*500)>HPCC Cloud</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=../../../../offline-search-index.5af5c0fe6d67235af02614bfa366bfa8.json data-offline-search-base-href=../../../../ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-default td-outer"><main role=main class=td-main><h2 id=summary>Summary</h2><ul><li><p>Filesystem</p><ul><li>Paths</li><li>Quotas</li><li>Usage</li></ul></li><li><p>Software</p><ul><li>Module System</li><li>Installs</li><li>Management</li></ul></li><li><p>Job Scheduling</p><ul><li>Node</li><li>Partition</li><li>Limits</li><li>Jobs</li></ul></li></ul><hr style=clear:both><h2 id=filesystem-paths>Filesystem: Paths</h2><p><strong>RoadMap</strong></p><img src="https://docs.google.com/drawings/d/e/2PACX-1vRjaVs9P2GF9oXUem-NNRH6gUD-VQ_N03wKYYHlJ373Qrqb9KPd_oZuFkTzHVFUawNX9ShIHW4u-u2l/pub?w=936&h=380"><hr style=clear:both><h2 id=filesystem-paths-1>Filesystem: Paths</h2><ul><li><p>Symlink (<span style=color:blue>dotted lines</span>) - A shortcut to another directory or file</p></li><li><p>Mount (<span style=color:green>Local</span>/<span style=color:red>Shared</span>) - An entry point to a disk or storage device (ie. <code>'C:/'</code> or <code>Google Drive</code>)</p></li></ul><hr style=clear:both><h2 id=filesystem-paths-2>Filesystem: Paths</h2><p><strong>Case sensitive</strong></p><p>All paths and commands are case sensitive, an uppercase letter is not the same as a lowercase letter.</p><p><strong>Path Types</strong></p><ul><li>Absolute path - Full path from root to current working directory</li></ul><pre><code>/rhome/username/workshop_dir/
</code></pre><ul><li>Relative path - Partial path or non-absolute path (current directory implied)</li></ul><pre><code>workshop_dir/
</code></pre><hr style=clear:both><h2 id=filesystem-quotas>Filesystem: Quotas</h2><p>All storage has limits.</p><ul><li><p><span style=font-weight:700;color:green>Local Storage</span> (ie. laptop hard drive)</p><p>Only exists on a single machine (node) and is limited by disk size.</p></li><li><p><span style=font-weight:700;color:red>Shared Storage</span> (ie. Google Drive)</p><p>Exists accross all machines (nodes) and is limited by a quota.</p></li></ul><hr style=clear:both><h2 id=filesystem-usage>Filesystem: Usage</h2><p>Make workshop directory, if it does not already exist:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkdir -p ~/workshop_dir
</code></pre></div><p>Check <span style=font-weight:700;color:#000>directory</span> size:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>du -hs ~/workshop_dir
</code></pre></div><p>Check <span style=font-weight:700;color:green>local</span> node storage:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>df -h /tmp
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>df -h /scratch
</code></pre></div><hr style=clear:both><h2 id=filesystem-usage-1>Filesystem: Usage</h2><p>Check <span style=font-weight:700;color:red>GPFS</span> storage, <em>&ldquo;blocks&rdquo;</em> is used space and available space is <em>&ldquo;quota&rdquo;</em>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>check_quota home
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>check_quota bigdata
</code></pre></div><p><a href=https://hpcc.ucr.edu/manuals_linux-cluster_storage>https://hpcc.ucr.edu/manuals_linux-cluster_storage</a></p><hr style=clear:both><h2 id=software-module-system>Software: Module System</h2><p>This system allows multiple versions of software to be loaded and unloaded.</p><p>To view software that is available:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module avail
</code></pre></div><p>To search for a specific software:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module avail samtools
<span style=color:#8f5902;font-style:italic># OR</span>
hpcc-software samtools
</code></pre></div><hr style=clear:both><h2 id=software-module-system-1>Software: Module System</h2><p>Load software into current environment:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module load samtools
</code></pre></div><p>List currently loaded software modules:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module list
</code></pre></div><p>Remove software from current environment:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module unload samtools
</code></pre></div><p><a href=https://hpcc.ucr.edu/manuals_linux-cluster_start#modules>https://hpcc.ucr.edu/manuals_linux-cluster_start#modules</a></p><hr style=clear:both><h2 id=software-installs>Software: Installs</h2><p><strong>Python</strong></p><p>For a basic <code>Python</code> package (<a href=https://pypi.org/>pypi</a>) you can use <code>pip</code> to install it:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pip install PKGNAME --user
</code></pre></div><p>For example, here is how you would install the <code>camelcase</code> package:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pip install camelcase --user
</code></pre></div><hr style=clear:both><h2 id=software-installs-1>Software: Installs</h2><p><strong>R</strong></p><p>For an <code>R</code> package you can use the install fuction (<a href=https://cran.r-project.org/>CRAN</a>):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>R
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=color:#000>install.packages</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;PKGNAME&#39;</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p>Or you can use the install function from <a href=https://www.bioconductor.org/>BiocManager</a>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>R
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-r data-lang=r><span style=color:#000>BiocManager</span><span style=color:#ce5c00;font-weight:700>::</span><span style=color:#000>install</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;PKGNAME&#39;</span><span style=color:#000;font-weight:700>)</span>
</code></pre></div><p><a href=https://hpcc.ucr.edu/manuals_linux-cluster_package-manage.html#r-1>https://hpcc.ucr.edu/manuals_linux-cluster_package-manage.html#r-1</a></p><hr style=clear:both><h2 id=software-management>Software: Management</h2><ul><li><span style=font-weight:700;color:green>Conda</span> - A software management system that allows you to install thousands of software packages and tools, including <code>R</code> and <code>Python</code> languages.</li></ul><p>Full instructions regarding conda setup can be found <a href=https://hpcc.ucr.edu/manuals_linux-cluster_package-manage.html>here</a>.</p><ul><li><span style=font-weight:700;color:red>Singularity</span> - A Linux container system (similar to Docker) which allows users to prepare a Linux environment from scratch.</li></ul><p>Some singularity examples can be found <a href=https://github.com/ucr-hpcc/hpcc_slurm_examples/tree/master/singularity>here</a>.</p><p>A previous workshop regarding custom software installs utilizing the above technologies can be found <a href=https://bit.ly/2PXGWEq>here</a>.</p><hr style=clear:both><h2 id=software-management-1>Software: Management</h2><p><strong>Conda</strong></p><p>List current conda virtual environments:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>conda env list
</code></pre></div><p>Create a <code>Python</code> 3 environment named <code>python3</code>:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>conda create -n python3 <span style=color:#000>python</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>3</span>
</code></pre></div><p>Install Python package with conda:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>conda install -n python3 numpy
</code></pre></div><blockquote><p><strong>Note:</strong> If package fails to be found, search on the <a href=https://anaconda.org/>Anaconda Website</a>. After searching click on one of the results and the command for installing will be provided. Remember to add your <code>-n python3</code> environment name.</p></blockquote><hr style=clear:both><h2 id=software-management-2>Software: Management</h2><p><strong>Conda</strong></p><p>After the conda environment is setup and <code>numpy</code> is installed, we can test it with the following:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>conda activate python3
python -c <span style=color:#4e9a06>&#39;import numpy as np; a = np.arange(15).reshape(3, 5); print(a)&#39;</span>
</code></pre></div><hr style=clear:both><h2 id=software-management-3>Software: Management</h2><p><strong>Singularity</strong></p><blockquote><p><strong>Warning:</strong> This is a demo, should be used for advanced projects</p></blockquote><p>You may need a singularity image if&mldr;</p><ul><li>You may want to build/control your own Linux environment</li><li>Your software requires older, or newer, libraries</li><li>Installation instructions are for <code>Ubuntu</code></li></ul><hr style=clear:both><h2 id=software-management-4>Software: Management</h2><p><strong>Singularity</strong></p><p>First you must get your own Linux machine, and install Singularity.
Perhaps the easiest way to do this is mentioned <a href=https://sylabs.io/guides/3.7/admin-guide/installation.html#installation-on-windows-or-mac>here</a>.</p><p>After this you can use <strong>pre-built</strong> images or try to build a <strong>custom</strong> singularity image:</p><p><strong>Pre-Built</strong></p><pre><code>singularity exec docker://ubuntu:latest echo &quot;Hello Dinosaur!&quot;
</code></pre><p><strong>Custom</strong></p><ol><li>Create a Singularity definition file</li><li>Build container image based on definition file</li><li>Run shell inside image to test</li></ol><hr style=clear:both><h2 id=software-management-5>Software Management</h2><p><strong>Definition File</strong></p><p>Make file <code>myLinuxEnv.def</code> with the following content:</p><pre><code>bootstrap: docker
From: ubuntu:latest

%post
  apt update
  apt install httpd
</code></pre><hr style=clear:both><h2 id=software-management-6>Software Management</h2><p><strong>Build Container Image</strong></p><p>Run the following command using defenition file:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>singularity build myLinuxEnv.sing myLinuxEnv.def
</code></pre></div><hr style=clear:both><h2 id=software-management-7>Software Management</h2><p><strong>Test</strong></p><p>Test the image buy going inside it:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>singularity shell myLinuxEnv.sing
</code></pre></div><p>Once the <code>Singularity</code> image is tested, transfer it to the cluster (SCP/SFTP), and execute it within a job like so:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>module load singularity
singularity <span style=color:#204a87>exec</span> myLinuxEnv.sing <span style=color:#4e9a06>&#39;cat /etc/lsb-release&#39;</span>
</code></pre></div><hr style=clear:both><h2 id=job-scheduling-slurm>Job Scheduling: Slurm</h2><img src="https://docs.google.com/drawings/d/e/2PACX-1vQWU7EGfVNGIhebu953CqTx3y-jufY-0ja6zcV65LN3KWLX5hBY7R2mEavvy34Gbq9fnDQeT80jEqfT/pub?w=933&h=401"><p><a href=https://slurm.schedmd.com/archive/slurm-19.05.0/>https://slurm.schedmd.com/archive/slurm-19.05.0/</a></p><hr style=clear:both><h2 id=job-scheduling-node>Job Scheduling: Node</h2><p><strong>What is a Compute Node?</strong></p><img src="https://docs.google.com/drawings/d/e/2PACX-1vQuTFQYXJmcIXx4873q1TlH0-44-yf1GwZicu6t7l5UrVnww08cMxD_ubYc0mpkfZ0Gsku43TT90DY0/pub?w=941&h=250"><p><a href=https://hpcc.ucr.edu/hardware>https://hpcc.ucr.edu/hardware</a></p><hr style=clear:both><h2 id=job-scheduling-partitions>Job Scheduling: Partitions</h2><img style=float:right width=350px src="https://docs.google.com/drawings/d/e/2PACX-1vQcl8tr-Tsi6TlUrUMREbrEk5ygkhllfoq82ZzrItDF13uqY-FmPwLpUqcpRGBTE7VajnpgDBwgox-v/pub?w=417&h=551"><p><strong>What is a Partition?</strong></p><p>Logical groups of nodes, to allow more efficient allocation and managment of resources.</p><p><strong>Intel Partition</strong></p><ul><li>CPU - 2 cores Default, 256 Cores Max</li><li>RAM - 1GB Default, 1TB Max</li><li>Time - 7 days Default, 30 Days Max</li></ul><div style=clear:both><a href=https://hpcc.ucr.edu/manuals_linux-cluster_jobs.html#partitions>https://hpcc.ucr.edu/manuals_linux-cluster_jobs.html#partitions</a></div><hr style=clear:both><h2 id=job-scheduling-partitions-1>Job Scheduling: Partitions</h2><ul><li><p><strong>Default?</strong></p><p>Fallback to this value if not explicitly provided.</p></li><li><p><strong>Maximum?</strong></p><p>Upper limit of what can be requested.</p></li></ul><p>For more details regarding our partitions, please review our <a href=https://hpcc.ucr.edu/manuals_linux-cluster_jobs#partitions>Cluster Jobs: Partitions</a> manual page.</p><hr style=clear:both><h2 id=job-scheduling-status>Job Scheduling: Status</h2><p>List all jobs owned by you and status:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>squeue -u <span style=color:#000>$USER</span>
</code></pre></div><p>List all group jobs and status:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>squeue -A <span style=color:#000>$GROUP</span>
</code></pre></div><hr style=clear:both><h2 id=job-scheduling-limits>Job Scheduling: Limits</h2><p>List current Slurm limits:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>slurm_limits
</code></pre></div><p>List CPUs currently used by you:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>user_cpus
</code></pre></div><p>List CPUs currently used by entire group (primary):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>group_cpus
</code></pre></div><hr style=clear:both><h2 id=job-scheduling-jobs>Job Scheduling: Jobs</h2><p><strong>Submission</strong></p><p>Move into workshop directory:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#204a87>cd</span> ~/workshop_dir
</code></pre></div><p>Download example job submission script:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#8f5902;font-style:italic># Non-Stats</span>
wget -O basic_job.sh https://bit.ly/33rozLX

<span style=color:#8f5902;font-style:italic># Stats Department</span>
wget -O basic_job.sh https://bit.ly/2KBaIOs
</code></pre></div><p>Check job submission script contents (use arrow keys to navigate and <code>ctrl+x</code> to quit):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>nano basic_job.sh
</code></pre></div><hr style=clear:both><h2 id=job-scheduling-jobs-1>Job Scheduling: Jobs</h2><p><strong>Submission</strong></p><p>Submit as non-interactive job:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sbatch basic_job.sh
</code></pre></div><p>Submit interactive job:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>srun -p short --pty bash -l

<span style=color:#8f5902;font-style:italic># OR</span>

srun -p statsdept --pty bash -l
</code></pre></div><hr style=clear:both><h2 id=job-scheduling-jobs-2>Job Scheduling: Jobs</h2><p><strong>Status</strong></p><p>Check job status:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>squeue -u <span style=color:#000>$USER</span>
</code></pre></div><p>Check results:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat slurm-2909103.out
</code></pre></div><p><a href=https://hpcc.ucr.edu/manuals_linux-cluster_jobs.html#submitting-jobs>https://hpcc.ucr.edu/manuals_linux-cluster_jobs.html#submitting-jobs</a></p><hr style=clear:both></main><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Email Support" aria-label="Email Support"><a class=text-white target=_blank rel="noopener noreferrer" href=mailto:support@hpcc.ucr.edu><i class="fa fa-envelope"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a class=text-white target=_blank rel="noopener noreferrer" href=https://twitter.com/UCR_HPCC><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a class=text-white target=_blank rel="noopener noreferrer" href=https://ucr-hpcc.slack.com/><i class="fab fa-slack"></i></a></li></ul></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel="noopener noreferrer" href><i></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel="noopener noreferrer" href><i></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title aria-label><a class=text-white target=_blank rel="noopener noreferrer" href><i></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2021 The Docsy Authors All Rights Reserved</small>
<small class=ml-1><a href=https://policies.google.com/privacy target=_blank>Privacy Policy</a></small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script>(function(){var c,a,b,d=document.getElementsByTagName('code');for(c=0;c<d.length;){if(b=d[c],b.parentNode.tagName!=='PRE'&&b.childElementCount===0)if(a=b.textContent,/^\$[^$]/.test(a)&&/[^$]\$$/.test(a)&&(a=a.replace(/^\$/,'\\(').replace(/\$$/,'\\)'),b.textContent=a),/^\\\((.|\s)+\\\)$/.test(a)||/^\\\[(.|\s)+\\\]$/.test(a)||/^\$(.|\s)+\$$/.test(a)||/^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(a)){b.outerHTML=b.innerHTML;continue}c++}})()</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script><script src=../../../../js/main.min.63db3e552bd0543be17ce4a79a18b744e9cb72256bec42b540e3ab0cd43722d0.js integrity="sha256-Y9s+VSvQVDvhfOSnmhi3ROnLciVr7EK1QOOrDNQ3ItA=" crossorigin=anonymous></script><script src=../../../../js/prism.js></script></body></html>